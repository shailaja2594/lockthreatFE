{"version":3,"file":"angular-signature-pad.js","sources":["~/angular-signature-pad/angular-signature-pad/angular-signature-pad.ts","~/angular-signature-pad/angular-signature-pad/src/angular-signature-pad.module.ts","~/angular-signature-pad/angular-signature-pad/src/validators/min-points-in-each-n-lines.validator.ts","~/angular-signature-pad/angular-signature-pad/src/validators/min-lines.validation.ts","~/angular-signature-pad/angular-signature-pad/src/validators/constists-of-object.validation.ts","~/angular-signature-pad/angular-signature-pad/src/validators/consists-of-arrays.validation.ts","~/angular-signature-pad/angular-signature-pad/src/validators/is-array.validation.ts","~/angular-signature-pad/angular-signature-pad/src/pipes/obj-to-array.pipe.ts","~/angular-signature-pad/angular-signature-pad/src/components/signature-pad-card/signature-pad-card.component.ts","~/angular-signature-pad/angular-signature-pad/src/components/signature-pad-control/signature-pad-control.component.ts","~/angular-signature-pad/angular-signature-pad/src/components/signature-pad/signature-pad.component.ts","../../../../../node_modules/signature_pad/dist/signature_pad.mjs","~/angular-signature-pad/angular-signature-pad/src/tokens/global-config.token.ts","~/angular-signature-pad/angular-signature-pad/src/components/signature-pad-card-group/signature-pad-card-group.component.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {GlobalSignaturePadConfig,isArray,consistOfArrays,consistOfObjects,minLines,minPointsInEachNLines,AngularSignaturePadModule} from './public_api';\n\nexport {SignaturePadCardGroupComponent as ɵe} from './src/components/signature-pad-card-group/signature-pad-card-group.component';\nexport {SignaturePadCardComponent as ɵd} from './src/components/signature-pad-card/signature-pad-card.component';\nexport {SignaturePadControlComponent as ɵc} from './src/components/signature-pad-control/signature-pad-control.component';\nexport {SignaturePadComponent as ɵa} from './src/components/signature-pad/signature-pad.component';\nexport {ISignaturePadConfig as ɵb} from './src/interfaces/signature-pad-config.interface';\nexport {ObjToArrayPipe as ɵf} from './src/pipes/obj-to-array.pipe';","import {CommonModule} from '@angular/common';\nimport {ModuleWithProviders, NgModule} from '@angular/core';\nimport {ReactiveFormsModule} from '@angular/forms';\nimport {SignaturePadCardGroupComponent} from './components/signature-pad-card-group/signature-pad-card-group.component';\nimport {SignaturePadCardComponent} from './components/signature-pad-card/signature-pad-card.component';\nimport {SignaturePadControlComponent} from './components/signature-pad-control/signature-pad-control.component';\nimport {SignaturePadComponent} from './components/signature-pad/signature-pad.component';\nimport {ObjToArrayPipe} from './pipes/obj-to-array.pipe';\nimport {GlobalSignaturePadConfig} from './tokens/global-config.token';\n\nexport {GlobalSignaturePadConfig} from './tokens/global-config.token';\n\nexport {isArray} from './validators/is-array.validation';\nexport {consistOfArrays} from './validators/consists-of-arrays.validation';\nexport {consistOfObjects} from './validators/constists-of-object.validation';\nexport {minLines} from './validators/min-lines.validation';\nexport {minPointsInEachNLines} from './validators/min-points-in-each-n-lines.validator';\nexport class AngularSignaturePadModule {\n/**\n * @return {?}\n */\nstatic forRoot(): ModuleWithProviders {\n    return {\n      providers: [\n        ObjToArrayPipe\n      ],\n      ngModule: AngularSignaturePadModule\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [CommonModule, ReactiveFormsModule],\n  declarations: [SignaturePadComponent, SignaturePadControlComponent, SignaturePadCardComponent, SignaturePadCardGroupComponent, ObjToArrayPipe],\n  exports: [SignaturePadComponent, SignaturePadControlComponent, SignaturePadCardComponent, SignaturePadCardGroupComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AngularSignaturePadModule_tsickle_Closure_declarations() {\n/** @type {?} */\nAngularSignaturePadModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAngularSignaturePadModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {AbstractControl, ValidationErrors, ValidatorFn} from '@angular/forms';\n/**\n * @param {?} minPointCount\n * @param {?} minLineCount\n * @return {?}\n */\nexport function minPointsInEachNLines(minPointCount: number, minLineCount: number): ValidatorFn {\n\n  return (c: AbstractControl): null | ValidationErrors => {\n\n    if (c.value) {\n      const /** @type {?} */ arrayConstructor = [].constructor;\n      if (c.value.constructor !== arrayConstructor) {\n        return null;\n      }\n      const /** @type {?} */ lineCountWithValidPointCount = c.value.filter((i) => {\n        if (i.constructor !== arrayConstructor) {\n          return true;\n        }\n        return i.length >= minPointCount;\n      }).length;\n\n      if (lineCountWithValidPointCount < minLineCount) {\n        return {\n          minPointsInNLines: {\n            pointCount: lineCountWithValidPointCount,\n            minPointCount: minPointCount,\n            message: `Signature must have at least ${minPointCount} points in at least ${minLineCount} lines.`\n          }\n        };\n      }\n      return null;\n    }\n    return null;\n  }\n}\n\n","import {AbstractControl, ValidationErrors, ValidatorFn} from '@angular/forms';\n/**\n * @param {?} minLineCount\n * @return {?}\n */\nexport function minLines(minLineCount: number): ValidatorFn {\n\n  return (c: AbstractControl): null | ValidationErrors => {\n\n    if (c.value) {\n      const /** @type {?} */ lineCount = c.value.length;\n\n      if (lineCount < minLineCount) {\n        return {\n          minLines: {\n            lineCount: lineCount,\n            minLineCount: minLineCount,\n            message: `Signature must have a minimum line count of ${minLineCount}.`\n          }\n        };\n      }\n      return null;\n    }\n    return null;\n  }\n}\n","import {AbstractControl, ValidationErrors} from '@angular/forms';\n/**\n * @param {?} c\n * @return {?}\n */\nexport function consistOfObjects(c: AbstractControl): null | ValidationErrors {\n  if (c.value) {\n    const /** @type {?} */ objectConstructor = {}.constructor;\n    const /** @type {?} */ arrayConstructor = [].constructor;\n\n    const /** @type {?} */ error = {\n      consistOfObjects: {\n        numOfItemsThatAreNoObject: 0,\n        message: 'Signature segments don\\'t contain of objects'\n      }\n    };\n\n    if (c.value.constructor !== arrayConstructor) {\n      return null;\n    }\n\n    const /** @type {?} */ countOfNonObjects =\n      c.value.reduce((nonObjCount, line) => {\n        if (line.constructor !== arrayConstructor) {\n          return false;\n        }\n        nonObjCount += line.filter((i) => {\n          // filter non objects\n          return i.constructor !== objectConstructor;\n        }).length;\n      }, 0);\n\n    // return error if a non object is contained\n    if (countOfNonObjects > 0) {\n      error.consistOfObjects.numOfItemsThatAreNoObject = countOfNonObjects;\n      return error;\n    }\n    return null;\n  }\n  return null;\n}\n","import {AbstractControl} from '@angular/forms';\n/**\n * @param {?} c\n * @return {?}\n */\nexport function consistOfArrays(c: AbstractControl) {\n\n  if (c.value) {\n    const /** @type {?} */ arrayConstructor = [].constructor;\n\n    const /** @type {?} */ error = {\n      consistOfArrays: {\n        numOfItemsThatAreNoArray: 0,\n        message: 'Signature don\\'t consist of arrays'\n      }\n    };\n\n    if (c.value.constructor !== arrayConstructor) {\n      return null;\n    }\n\n    const /** @type {?} */ countOfNonArrays =\n      c.value.filter(function (i) {\n        // filter non arrays\n        return i.constructor !== arrayConstructor;\n      }).length;\n\n    // return error if a non array is contained\n    if (countOfNonArrays > 0) {\n      error.consistOfArrays.numOfItemsThatAreNoArray = countOfNonArrays;\n      return error;\n    }\n    return null;\n  }\n  return null;\n}\n","import {AbstractControl, ValidationErrors} from '@angular/forms';\n/**\n * @param {?} c\n * @return {?}\n */\nexport function isArray(c: AbstractControl): null | ValidationErrors {\n  if (c.value) {\n    const /** @type {?} */ error = {\n      isArray: {\n        message: 'signature is no array'\n      }\n    };\n\n    const /** @type {?} */ arrayConstructor = [].constructor;\n    if (c.value.constructor !== arrayConstructor) {\n      return error;\n    }\n  }\n  return null;\n}\n","import {Pipe, PipeTransform} from '@angular/core';\nexport class ObjToArrayPipe implements PipeTransform {\n/**\n * @param {?} value\n * @param {?=} args\n * @return {?}\n */\ntransform(value: any, args?: any): any {\n    const /** @type {?} */ objCtor = {}.constructor;\n    if (value && value.constructor === objCtor) {\n      return Object.keys(value)\n        .map(key => {\n          return {key, value: value[key]};\n        });\n    }\n    return value;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Pipe, args: [{\n  name: 'objToArray'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ObjToArrayPipe_tsickle_Closure_declarations() {\n/** @type {?} */\nObjToArrayPipe.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nObjToArrayPipe.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  AfterViewInit,\n  Component,\n  forwardRef,\n  Host,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Optional,\n  Renderer2,\n  SkipSelf\n} from '@angular/core';\nimport {ControlContainer, FormControl, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport {ISignaturePadConfig} from '../../interfaces/signature-pad-config.interface';\nimport {GlobalSignaturePadConfig} from '../../tokens/global-config.token';\nimport {SignaturePadControlComponent} from '../signature-pad-control/signature-pad-control.component';\nexport class SignaturePadCardComponent extends SignaturePadControlComponent implements OnChanges, OnInit, AfterViewInit {\n\n  \n  theme: string = 'raised';\n\n  \n  formControlName: string;\n\n  control: FormControl;\n/**\n * @param {?} renderer\n * @param {?} parentFormContainer\n * @param {?=} defaultConfig\n */\nconstructor(\n    renderer: Renderer2,\n       parentFormContainer: ControlContainer,\n      defaultConfig?: ISignaturePadConfig\n  ) {\n    super(renderer, parentFormContainer, defaultConfig);\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'signature-pad-card',\n  template: `\n    <div class=\"signature-pad-card\" [ngClass]=\"theme\">\n\n      <div class=\"signature-pad\">\n        <canvas\n          tabindex=\"0\"\n          class=\"signature-pad-canvas\"\n          width=\"400\"\n          height=\"200\"\n          #signatureCanvas>\n        </canvas>\n      </div>\n      <div class=\"line-break\"></div>\n      <div class=\"actions\">\n        <button class=\"clear\" (click)=\"clear()\">\n          {{'Clear Signature'}}\n        </button>\n      </div>\n\n      <div class=\"feedback\">\n\n        <!-- initial message -->\n        <div *ngIf=\"control.untouched && control.pristine\">Sign above!</div>\n\n        <!-- error messages -->\n        <div *ngIf=\"control.dirty && control.invalid\">\n          <span class=\"form-text text-danger\" *ngFor=\"let error of (control.errors | objToArray)\">\n           {{error.value.message}}\n          </span>\n        </div>\n\n        <!-- valid message -->\n        <div *ngIf=\"control.dirty && control.valid\">Thank you!</div>\n\n      </div>\n    </div>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SignaturePadCardComponent),\n      multi: true\n    }\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ControlContainer, decorators: [{ type: Optional }, { type: Host }, { type: SkipSelf }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [GlobalSignaturePadConfig, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'theme': [{ type: Input },],\n'formControlName': [{ type: Input },],\n};\n}\n\nfunction SignaturePadCardComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSignaturePadCardComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSignaturePadCardComponent.ctorParameters;\n/** @type {?} */\nSignaturePadCardComponent.propDecorators;\n/** @type {?} */\nSignaturePadCardComponent.prototype.theme;\n/** @type {?} */\nSignaturePadCardComponent.prototype.formControlName;\n/** @type {?} */\nSignaturePadCardComponent.prototype.control;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  AfterViewInit,\n  Component,\n  forwardRef,\n  Host,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Optional,\n  Renderer2,\n  SkipSelf\n} from '@angular/core';\nimport {\n  ControlContainer,\n  ControlValueAccessor,\n  FormControl,\n  NG_VALUE_ACCESSOR\n} from '@angular/forms';\nimport {ISignaturePadConfig} from '../../interfaces/signature-pad-config.interface';\nimport {GlobalSignaturePadConfig} from '../../tokens/global-config.token';\nimport {SignaturePadComponent} from '../signature-pad/signature-pad.component';\nexport class SignaturePadControlComponent extends SignaturePadComponent implements OnChanges, OnInit, AfterViewInit, ControlValueAccessor {\n\n  \n  formControlName: string;\n\n  control: FormControl;\n\n  onTouch = () => {\n  }\n\n  onModelChange = (value: any) => {\n  }\n/**\n * @param {?} renderer\n * @param {?} parentFormContainer\n * @param {?=} defaultConfig\n */\nconstructor(renderer: Renderer2,\nprivate parentFormContainer: ControlContainer,\n                defaultConfig?: ISignaturePadConfig) {\n    super(renderer, defaultConfig);\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    super.ngOnInit();\n    if (this.parentFormContainer) {\n      this.control = this.parentFormContainer['form'].controls[this.formControlName];\n    }\n  }\n/**\n * @param {?} signatureData\n * @return {?}\n */\nwriteValue(signatureData: any): void {\n   this.renderViewValue(signatureData);\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: any): void {\n    this.onModelChange = fn;\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: any): void {\n    this.onTouch = fn;\n  }\n/**\n *\n * @param {?} isFocus\n * @return {?}\n */\nhandleFocus(isFocus: boolean): void {\n    super.handleFocus(isFocus);\n    if (!isFocus) {\n      this.onTouch();\n    }\n  }\n/**\n *\n * @param {?} signatureData\n * @return {?}\n */\nhandleInput(signatureData: any) {\n    super.handleInput(signatureData);\n    this.onModelChange(signatureData);\n  }\n/**\n * @return {?}\n */\nclear() {\n    super.clear();\n    this.onModelChange([]);\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'signature-pad-control',\n  template: `\n    <canvas\n      tabindex=\"0\"\n      class=\"signature-pad-canvas\"\n      width=\"400\"\n      height=\"200\"\n      #signatureCanvas>\n    </canvas>\n  `,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SignaturePadControlComponent),\n      multi: true\n    }\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ControlContainer, decorators: [{ type: Optional }, { type: Host }, { type: SkipSelf }, ]},\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [GlobalSignaturePadConfig, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'formControlName': [{ type: Input },],\n};\n}\n\nfunction SignaturePadControlComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSignaturePadControlComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSignaturePadControlComponent.ctorParameters;\n/** @type {?} */\nSignaturePadControlComponent.propDecorators;\n/** @type {?} */\nSignaturePadControlComponent.prototype.formControlName;\n/** @type {?} */\nSignaturePadControlComponent.prototype.control;\n/** @type {?} */\nSignaturePadControlComponent.prototype.onTouch;\n/** @type {?} */\nSignaturePadControlComponent.prototype.onModelChange;\n/** @type {?} */\nSignaturePadControlComponent.prototype.parentFormContainer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  Optional,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport SignaturePad from 'signature_pad';\nimport {ISignaturePadConfig} from '../../interfaces/signature-pad-config.interface';\nimport {GlobalSignaturePadConfig} from '../../tokens/global-config.token';\nexport class SignaturePadComponent implements OnInit, OnChanges, AfterViewInit {\n\n  protected container: HTMLElement;\n\n  \n  protected canvasRef: ElementRef;\n  protected canvas: HTMLCanvasElement;\n\n  protected signaturePad;\n\n  protected value: any = [];\n\n  \n  protected valueChange: EventEmitter<any> = new EventEmitter<any[]>();\npublic disabled: boolean;\npublic focus: boolean;\n\n  \n  protected config: ISignaturePadConfig;\n\n  onEndWrapper = (value) => {\n    // configurable onEnd\n    if (this.isObject(this.config)\n      && 'onEnd' in this.config\n      && typeof this.config.onEnd === 'function') {\n      this.config.onEnd(value);\n    }\n\n    // default onEnd function\n    // sync form control\n    this.handleInput(this.signaturePad.toData());\n  }\n\n  onBeginWrapper = (value) => {\n    // configurable onBegin\n    if (this.isObject(this.config)\n      && 'onBegin' in this.config\n      && typeof this.config.onBegin === 'function') {\n      this.config.onBegin(value);\n    }\n\n    // default onBegin function here\n  }\n/**\n * @param {?} renderer\n * @param {?=} defaultConfig\n */\nconstructor(\n    protected renderer: Renderer2,\nprivate defaultConfig?: ISignaturePadConfig\n  ) {\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n    if ('config' in changes) {\n      this.updateConfig(changes.config.currentValue);\n    }\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this.initializeSignaturePad();\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    // listen to focus\n    this.renderer.listen(this.canvas, 'focus', ($event) => {\n      this.handleFocus(true);\n    });\n\n    // listen to blur\n    this.renderer.listen(this.canvas, 'blur', ($event) => {\n      this.handleFocus(false);\n    });\n\n    // handle resize\n    this.resizeSignaturePad();\n    this.renderer.listen('window', 'resize', ($event) => {\n      this.resizeSignaturePad();\n    });\n  }\n/**\n * @return {?}\n */\ngetValue(): number {\n    return this.value;\n  }\n/**\n * @param {?} signatureData\n * @return {?}\n */\nsetValue(signatureData: any) {\n    if (signatureData && signatureData.constructor === [].constructor) {\n      this.value = [...signatureData];\n    } else {\n      this.value = null;\n    }\n\n    this.valueChange.next(this.value);\n  }\n/**\n * @param {?} isDisabled\n * @return {?}\n */\nsetDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n    this.renderViewDisabled();\n  }\n/**\n * @return {?}\n */\nclear() {\n    this.signaturePad.clear();\n    this.setValue(null);\n  }\n\n  resizeSignaturePad = (): void => {\n    if (this.canvas) {\n\n      this.resizeCanvas();\n\n      // When the width or height of a canvas gets modified,\n      // it will be automatically cleared by the browser.\n      // How ever the data of the signature are still stores in the model value => this.value.\n      // Because of this we have to reassign the value from this.value to the signaturePad.\n      this.renderViewValue(this.value);\n    }\n  }\n/**\n * @param {?} signatureData\n * @return {?}\n */\nprotected handleInput(signatureData: any): void {\n    this.setValue(signatureData);\n  }\n/**\n * @param {?} isFocus\n * @return {?}\n */\npublic handleFocus(isFocus: boolean): void {\n    this.focus = isFocus;\n    this.renderViewFocus();\n  }\n/**\n * @return {?}\n */\nrenderViewDisabled() {\n    this.renderer.setProperty(this.canvas, 'disabled', this.disabled);\n\n    if (this.disabled) {\n      this.renderer.addClass(this.canvas, 'disabled');\n    } else {\n      this.renderer.removeClass(this.canvas, 'disabled');\n    }\n  }\n/**\n * @return {?}\n */\nrenderViewFocus(): void {\n    this.renderer.setProperty(this.canvas, 'focus', this.focus);\n\n    if (this.focus) {\n      this.renderer.addClass(this.canvas, 'focus');\n    } else {\n      this.renderer.removeClass(this.canvas, 'focus');\n    }\n  }\n/**\n * @param {?} signatureData\n * @return {?}\n */\nrenderViewValue(signatureData: any) {\n    if (signatureData && signatureData.constructor === [].constructor) {\n      this.signaturePad.fromData([...signatureData]);\n    } else {\n      this.signaturePad.clear();\n    }\n  }\n/**\n * @param {?=} config\n * @return {?}\n */\nprotected updateConfig(config?: ISignaturePadConfig): void {\n\n    if (!config || config.constructor !== {}.constructor || !this.signaturePad) {\n      return;\n    }\n\n    if ('dotSize' in config && config.dotSize) {\n      this.signaturePad.dotSize = config.dotSize;\n    }\n\n    if ('minWidth' in config && config.minWidth >= 0) {\n      this.signaturePad.minWidth = config.minWidth;\n      console.log('minWidth', this.signaturePad.minWidth, config.minWidth);\n    }\n\n    if ('maxWidth' in config && config.maxWidth >= 0) {\n      this.signaturePad.maxWidth = config.maxWidth;\n    }\n\n    if ('throttle' in config && config.throttle >= 0) {\n      this.signaturePad.throttle = config.throttle;\n    }\n\n    if ('backgroundColor' in config && config.backgroundColor) {\n      this.signaturePad.backgroundColor = config.backgroundColor;\n      this.resizeSignaturePad();\n    }\n\n    if ('penColor' in config && config.penColor) {\n      this.signaturePad.penColor = config.penColor;\n    }\n\n    if ('velocityFilterWeight' in config && config.velocityFilterWeight >= 0) {\n      this.signaturePad.velocityFilterWeight = config.velocityFilterWeight;\n    }\n\n    // callbacks are registered when creating signaturePad instance in initializeSignaturePad\n    // onBegin\n    // onEnd\n\n  }\n/**\n * @return {?}\n */\nprotected resizeCanvas() {\n    interface ICssWidthHeight {top: number; bottom: number; left: number; right: number; fullHeight: number; fullWidth: number;\n    }\n\n    // When zoomed out to less than 100%, for some very strange reason,\n    // some browsers report devicePixelRatio as less than 1\n    // and only part of the canvas is cleared then.\n    // So we will have at least 1 as ration.\n    const /** @type {?} */ ratio = 1; // @TODO fix offset on ratios > 1. => Math.max(window.devicePixelRatio || 1, 1);\n\n    // information needed to calculate the available width and height\n    const /** @type {?} */ canvasStyles = window.getComputedStyle(this.canvas, null);\n    const /** @type {?} */ canvasBorder: ICssWidthHeight = /** @type {?} */(( {} as ICssWidthHeight));\n    canvasBorder.top = parseInt(canvasStyles.borderTopWidth, null) || 0;\n    canvasBorder.bottom = parseInt(canvasStyles.borderBottomWidth, null) || 0;\n    canvasBorder.left = parseInt(canvasStyles.borderLeftWidth, null) || 0;\n    canvasBorder.right = parseInt(canvasStyles.borderRightWidth, null) || 0;\n    canvasBorder.fullHeight = canvasBorder.top + canvasBorder.bottom;\n    canvasBorder.fullWidth = canvasBorder.left + canvasBorder.right;\n\n    const /** @type {?} */ containerStyles = window.getComputedStyle(this.container, null);\n    const /** @type {?} */ parentPadding: ICssWidthHeight = /** @type {?} */(( {} as ICssWidthHeight));\n    parentPadding.top = parseInt(containerStyles.paddingTop, null) || 0;\n    parentPadding.bottom = parseInt(containerStyles.paddingBottom, null) || 0;\n    parentPadding.left = parseInt(containerStyles.paddingLeft, null) || 0;\n    parentPadding.right = parseInt(containerStyles.paddingRight, null) || 0;\n    parentPadding.fullHeight = parentPadding.top + parentPadding.bottom;\n    parentPadding.fullWidth = parentPadding.left + parentPadding.right;\n\n    const /** @type {?} */ withToSubtract = parentPadding.fullWidth + canvasBorder.fullWidth;\n    const /** @type {?} */ heightToSubtract = parentPadding.fullHeight + canvasBorder.fullHeight;\n\n    // resize canvas\n\n    // get most right point of signature\n    let /** @type {?} */ signatureWidth = 0;\n    if (this.value && [].constructor === this.value.constructor) {\n      signatureWidth = this.value\n        .reduce((concated, arr) => concated.concat(arr), [])\n        .reduce((mR, segment) => mR < segment.x ? segment.x : mR, 0);\n    }\n\n    // get most left point of signature\n    let /** @type {?} */ signatureHeight = 0;\n    if (this.value && [].constructor === this.value.constructor) {\n      signatureHeight = this.value\n        .reduce((concated, arr) => concated.concat(arr), [])\n        .reduce((mL, segment) => mL < segment.y ? segment.y : mL, 0);\n    }\n\n    // calc new width and height\n    const /** @type {?} */ newCanvasWidth = Math.max(this.container.clientWidth, signatureWidth);\n    const /** @type {?} */ newCanvasHeight = Math.max(this.container.clientHeight, signatureHeight);\n\n    // adopt canvas scales\n    this.canvas.width = (newCanvasWidth - withToSubtract) * ratio;\n    this.canvas.height = (newCanvasHeight - heightToSubtract - 6) * ratio; // @TODO find the 6px\n    this.canvas.getContext('2d').scale(ratio, ratio);\n\n    // adopt show/hide scroll of vertical canvas container\n    this.container.style.overflowX = 'inherit';\n    if (this.canvas.width + withToSubtract > this.container.clientWidth) {\n      this.container.style.overflowX = 'scroll';\n    }\n\n    // adopt show/hide scroll of horizontal canvas container\n    this.container.style.overflowY = 'inherit';\n    if (this.canvas.height > this.container.clientHeight) {\n      this.container.style.overflowY = 'scroll';\n    }\n\n    // When the width or height of a canvas gets modified,\n    // it will be automatically cleared by the browser.\n    // So we have to call signaturePad.clear() to make sure\n    // that signaturePad.isEmpty() returns correct value in this case.\n    this.signaturePad.clear();\n  }\n/**\n * @return {?}\n */\nprotected initializeSignaturePad() {\n    this.canvas = this.canvasRef.nativeElement;\n    this.container = this.canvas.parentElement;\n    this.container.className = this.container.className + ' signature-pad';\n\n    this.signaturePad = new SignaturePad(this.canvas, this.defaultConfig);\n    // onBegin\n    this.signaturePad.onBegin = this.onBeginWrapper;\n    // onEnd\n    this.signaturePad.onEnd = this.onEndWrapper;\n\n    this.updateConfig(this.config);\n  }\n/**\n * @param {?} val\n * @return {?}\n */\nprotected isObject(val: any) {\n    const /** @type {?} */ objectConstructor = {}.constructor;\n    return val && val.constructor === objectConstructor;\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'signature-pad',\n  template: `\n    <canvas\n      tabindex=\"0\"\n      class=\"signature-pad-canvas\"\n      width=\"400\"\n      height=\"200\"\n      #signatureCanvas>\n    </canvas>\n  `\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [GlobalSignaturePadConfig, ] }, ]},\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'canvasRef': [{ type: ViewChild, args: ['signatureCanvas', ] },],\n'valueChange': [{ type: Output },],\n'config': [{ type: Input },],\n};\n}\n\nfunction SignaturePadComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSignaturePadComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSignaturePadComponent.ctorParameters;\n/** @type {?} */\nSignaturePadComponent.propDecorators;\n/** @type {?} */\nSignaturePadComponent.prototype.container;\n/** @type {?} */\nSignaturePadComponent.prototype.canvasRef;\n/** @type {?} */\nSignaturePadComponent.prototype.canvas;\n/** @type {?} */\nSignaturePadComponent.prototype.signaturePad;\n/** @type {?} */\nSignaturePadComponent.prototype.value;\n/** @type {?} */\nSignaturePadComponent.prototype.valueChange;\n/** @type {?} */\nSignaturePadComponent.prototype.disabled;\n/** @type {?} */\nSignaturePadComponent.prototype.focus;\n/** @type {?} */\nSignaturePadComponent.prototype.config;\n/** @type {?} */\nSignaturePadComponent.prototype.onEndWrapper;\n/** @type {?} */\nSignaturePadComponent.prototype.onBeginWrapper;\n/** @type {?} */\nSignaturePadComponent.prototype.resizeSignaturePad;\n/** @type {?} */\nSignaturePadComponent.prototype.renderer;\n/** @type {?} */\nSignaturePadComponent.prototype.defaultConfig;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*!\n * Signature Pad v2.3.2\n * https://github.com/szimek/signature_pad\n *\n * Copyright 2017 Szymon Nowak\n * Released under the MIT license\n *\n * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:\n * http://corner.squareup.com/2012/07/smoother-signatures.html\n *\n * Implementation of interpolation using cubic Bézier curves is taken from:\n * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript\n *\n * Algorithm for approximated length of a Bézier curve is taken from:\n * http://www.lemoda.net/maths/bezier-length/index.html\n *\n */\n\nfunction Point(x, y, time) {\n  this.x = x;\n  this.y = y;\n  this.time = time || new Date().getTime();\n}\n\nPoint.prototype.velocityFrom = function (start) {\n  return this.time !== start.time ? this.distanceTo(start) / (this.time - start.time) : 1;\n};\n\nPoint.prototype.distanceTo = function (start) {\n  return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n};\n\nPoint.prototype.equals = function (other) {\n  return this.x === other.x && this.y === other.y && this.time === other.time;\n};\n\nfunction Bezier(startPoint, control1, control2, endPoint) {\n  this.startPoint = startPoint;\n  this.control1 = control1;\n  this.control2 = control2;\n  this.endPoint = endPoint;\n}\n\n// Returns approximated length.\nBezier.prototype.length = function () {\n  var steps = 10;\n  var length = 0;\n  var px = void 0;\n  var py = void 0;\n\n  for (var i = 0; i <= steps; i += 1) {\n    var t = i / steps;\n    var cx = this._point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n    var cy = this._point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n    if (i > 0) {\n      var xdiff = cx - px;\n      var ydiff = cy - py;\n      length += Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n    }\n    px = cx;\n    py = cy;\n  }\n\n  return length;\n};\n\n/* eslint-disable no-multi-spaces, space-in-parens */\nBezier.prototype._point = function (t, start, c1, c2, end) {\n  return start * (1.0 - t) * (1.0 - t) * (1.0 - t) + 3.0 * c1 * (1.0 - t) * (1.0 - t) * t + 3.0 * c2 * (1.0 - t) * t * t + end * t * t * t;\n};\n\n/* eslint-disable */\n\n// http://stackoverflow.com/a/27078401/815507\nfunction throttle(func, wait, options) {\n  var context, args, result;\n  var timeout = null;\n  var previous = 0;\n  if (!options) options = {};\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  return function () {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\nfunction SignaturePad(canvas, options) {\n  var self = this;\n  var opts = options || {};\n\n  this.velocityFilterWeight = opts.velocityFilterWeight || 0.7;\n  this.minWidth = opts.minWidth || 0.5;\n  this.maxWidth = opts.maxWidth || 2.5;\n  this.throttle = 'throttle' in opts ? opts.throttle : 16; // in miliseconds\n  this.minDistance = 'minDistance' in opts ? opts.minDistance : 5;\n\n  if (this.throttle) {\n    this._strokeMoveUpdate = throttle(SignaturePad.prototype._strokeUpdate, this.throttle);\n  } else {\n    this._strokeMoveUpdate = SignaturePad.prototype._strokeUpdate;\n  }\n\n  this.dotSize = opts.dotSize || function () {\n    return (this.minWidth + this.maxWidth) / 2;\n  };\n  this.penColor = opts.penColor || 'black';\n  this.backgroundColor = opts.backgroundColor || 'rgba(0,0,0,0)';\n  this.onBegin = opts.onBegin;\n  this.onEnd = opts.onEnd;\n\n  this._canvas = canvas;\n  this._ctx = canvas.getContext('2d');\n  this.clear();\n\n  // We need add these inline so they are available to unbind while still having\n  // access to 'self' we could use _.bind but it's not worth adding a dependency.\n  this._handleMouseDown = function (event) {\n    if (event.which === 1) {\n      self._mouseButtonDown = true;\n      self._strokeBegin(event);\n    }\n  };\n\n  this._handleMouseMove = function (event) {\n    if (self._mouseButtonDown) {\n      self._strokeMoveUpdate(event);\n    }\n  };\n\n  this._handleMouseUp = function (event) {\n    if (event.which === 1 && self._mouseButtonDown) {\n      self._mouseButtonDown = false;\n      self._strokeEnd(event);\n    }\n  };\n\n  this._handleTouchStart = function (event) {\n    if (event.targetTouches.length === 1) {\n      var touch = event.changedTouches[0];\n      self._strokeBegin(touch);\n    }\n  };\n\n  this._handleTouchMove = function (event) {\n    // Prevent scrolling.\n    event.preventDefault();\n\n    var touch = event.targetTouches[0];\n    self._strokeMoveUpdate(touch);\n  };\n\n  this._handleTouchEnd = function (event) {\n    var wasCanvasTouched = event.target === self._canvas;\n    if (wasCanvasTouched) {\n      event.preventDefault();\n      self._strokeEnd(event);\n    }\n  };\n\n  // Enable mouse and touch event handlers\n  this.on();\n}\n\n// Public methods\nSignaturePad.prototype.clear = function () {\n  var ctx = this._ctx;\n  var canvas = this._canvas;\n\n  ctx.fillStyle = this.backgroundColor;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n  this._data = [];\n  this._reset();\n  this._isEmpty = true;\n};\n\nSignaturePad.prototype.fromDataURL = function (dataUrl) {\n  var _this = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var image = new Image();\n  var ratio = options.ratio || window.devicePixelRatio || 1;\n  var width = options.width || this._canvas.width / ratio;\n  var height = options.height || this._canvas.height / ratio;\n\n  this._reset();\n  image.src = dataUrl;\n  image.onload = function () {\n    _this._ctx.drawImage(image, 0, 0, width, height);\n  };\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype.toDataURL = function (type) {\n  var _canvas;\n\n  switch (type) {\n    case 'image/svg+xml':\n      return this._toSVG();\n    default:\n      for (var _len = arguments.length, options = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        options[_key - 1] = arguments[_key];\n      }\n\n      return (_canvas = this._canvas).toDataURL.apply(_canvas, [type].concat(options));\n  }\n};\n\nSignaturePad.prototype.on = function () {\n  this._handleMouseEvents();\n  this._handleTouchEvents();\n};\n\nSignaturePad.prototype.off = function () {\n  this._canvas.removeEventListener('mousedown', this._handleMouseDown);\n  this._canvas.removeEventListener('mousemove', this._handleMouseMove);\n  document.removeEventListener('mouseup', this._handleMouseUp);\n\n  this._canvas.removeEventListener('touchstart', this._handleTouchStart);\n  this._canvas.removeEventListener('touchmove', this._handleTouchMove);\n  this._canvas.removeEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype.isEmpty = function () {\n  return this._isEmpty;\n};\n\n// Private methods\nSignaturePad.prototype._strokeBegin = function (event) {\n  this._data.push([]);\n  this._reset();\n  this._strokeUpdate(event);\n\n  if (typeof this.onBegin === 'function') {\n    this.onBegin(event);\n  }\n};\n\nSignaturePad.prototype._strokeUpdate = function (event) {\n  var x = event.clientX;\n  var y = event.clientY;\n\n  var point = this._createPoint(x, y);\n  var lastPointGroup = this._data[this._data.length - 1];\n  var lastPoint = lastPointGroup && lastPointGroup[lastPointGroup.length - 1];\n  var isLastPointTooClose = lastPoint && point.distanceTo(lastPoint) < this.minDistance;\n\n  // Skip this point if it's too close to the previous one\n  if (!(lastPoint && isLastPointTooClose)) {\n    var _addPoint = this._addPoint(point),\n        curve = _addPoint.curve,\n        widths = _addPoint.widths;\n\n    if (curve && widths) {\n      this._drawCurve(curve, widths.start, widths.end);\n    }\n\n    this._data[this._data.length - 1].push({\n      x: point.x,\n      y: point.y,\n      time: point.time,\n      color: this.penColor\n    });\n  }\n};\n\nSignaturePad.prototype._strokeEnd = function (event) {\n  var canDrawCurve = this.points.length > 2;\n  var point = this.points[0]; // Point instance\n\n  if (!canDrawCurve && point) {\n    this._drawDot(point);\n  }\n\n  if (point) {\n    var lastPointGroup = this._data[this._data.length - 1];\n    var lastPoint = lastPointGroup[lastPointGroup.length - 1]; // plain object\n\n    // When drawing a dot, there's only one point in a group, so without this check\n    // such group would end up with exactly the same 2 points.\n    if (!point.equals(lastPoint)) {\n      lastPointGroup.push({\n        x: point.x,\n        y: point.y,\n        time: point.time,\n        color: this.penColor\n      });\n    }\n  }\n\n  if (typeof this.onEnd === 'function') {\n    this.onEnd(event);\n  }\n};\n\nSignaturePad.prototype._handleMouseEvents = function () {\n  this._mouseButtonDown = false;\n\n  this._canvas.addEventListener('mousedown', this._handleMouseDown);\n  this._canvas.addEventListener('mousemove', this._handleMouseMove);\n  document.addEventListener('mouseup', this._handleMouseUp);\n};\n\nSignaturePad.prototype._handleTouchEvents = function () {\n  // Pass touch events to canvas element on mobile IE11 and Edge.\n  this._canvas.style.msTouchAction = 'none';\n  this._canvas.style.touchAction = 'none';\n\n  this._canvas.addEventListener('touchstart', this._handleTouchStart);\n  this._canvas.addEventListener('touchmove', this._handleTouchMove);\n  this._canvas.addEventListener('touchend', this._handleTouchEnd);\n};\n\nSignaturePad.prototype._reset = function () {\n  this.points = [];\n  this._lastVelocity = 0;\n  this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n  this._ctx.fillStyle = this.penColor;\n};\n\nSignaturePad.prototype._createPoint = function (x, y, time) {\n  var rect = this._canvas.getBoundingClientRect();\n\n  return new Point(x - rect.left, y - rect.top, time || new Date().getTime());\n};\n\nSignaturePad.prototype._addPoint = function (point) {\n  var points = this.points;\n  var tmp = void 0;\n\n  points.push(point);\n\n  if (points.length > 2) {\n    // To reduce the initial lag make it work with 3 points\n    // by copying the first point to the beginning.\n    if (points.length === 3) points.unshift(points[0]);\n\n    tmp = this._calculateCurveControlPoints(points[0], points[1], points[2]);\n    var c2 = tmp.c2;\n    tmp = this._calculateCurveControlPoints(points[1], points[2], points[3]);\n    var c3 = tmp.c1;\n    var curve = new Bezier(points[1], c2, c3, points[2]);\n    var widths = this._calculateCurveWidths(curve);\n\n    // Remove the first element from the list,\n    // so that we always have no more than 4 points in points array.\n    points.shift();\n\n    return { curve: curve, widths: widths };\n  }\n\n  return {};\n};\n\nSignaturePad.prototype._calculateCurveControlPoints = function (s1, s2, s3) {\n  var dx1 = s1.x - s2.x;\n  var dy1 = s1.y - s2.y;\n  var dx2 = s2.x - s3.x;\n  var dy2 = s2.y - s3.y;\n\n  var m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n  var m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n\n  var l1 = Math.sqrt(dx1 * dx1 + dy1 * dy1);\n  var l2 = Math.sqrt(dx2 * dx2 + dy2 * dy2);\n\n  var dxm = m1.x - m2.x;\n  var dym = m1.y - m2.y;\n\n  var k = l2 / (l1 + l2);\n  var cm = { x: m2.x + dxm * k, y: m2.y + dym * k };\n\n  var tx = s2.x - cm.x;\n  var ty = s2.y - cm.y;\n\n  return {\n    c1: new Point(m1.x + tx, m1.y + ty),\n    c2: new Point(m2.x + tx, m2.y + ty)\n  };\n};\n\nSignaturePad.prototype._calculateCurveWidths = function (curve) {\n  var startPoint = curve.startPoint;\n  var endPoint = curve.endPoint;\n  var widths = { start: null, end: null };\n\n  var velocity = this.velocityFilterWeight * endPoint.velocityFrom(startPoint) + (1 - this.velocityFilterWeight) * this._lastVelocity;\n\n  var newWidth = this._strokeWidth(velocity);\n\n  widths.start = this._lastWidth;\n  widths.end = newWidth;\n\n  this._lastVelocity = velocity;\n  this._lastWidth = newWidth;\n\n  return widths;\n};\n\nSignaturePad.prototype._strokeWidth = function (velocity) {\n  return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n};\n\nSignaturePad.prototype._drawPoint = function (x, y, size) {\n  var ctx = this._ctx;\n\n  ctx.moveTo(x, y);\n  ctx.arc(x, y, size, 0, 2 * Math.PI, false);\n  this._isEmpty = false;\n};\n\nSignaturePad.prototype._drawCurve = function (curve, startWidth, endWidth) {\n  var ctx = this._ctx;\n  var widthDelta = endWidth - startWidth;\n  var drawSteps = Math.floor(curve.length());\n\n  ctx.beginPath();\n\n  for (var i = 0; i < drawSteps; i += 1) {\n    // Calculate the Bezier (x, y) coordinate for this step.\n    var t = i / drawSteps;\n    var tt = t * t;\n    var ttt = tt * t;\n    var u = 1 - t;\n    var uu = u * u;\n    var uuu = uu * u;\n\n    var x = uuu * curve.startPoint.x;\n    x += 3 * uu * t * curve.control1.x;\n    x += 3 * u * tt * curve.control2.x;\n    x += ttt * curve.endPoint.x;\n\n    var y = uuu * curve.startPoint.y;\n    y += 3 * uu * t * curve.control1.y;\n    y += 3 * u * tt * curve.control2.y;\n    y += ttt * curve.endPoint.y;\n\n    var width = startWidth + ttt * widthDelta;\n    this._drawPoint(x, y, width);\n  }\n\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._drawDot = function (point) {\n  var ctx = this._ctx;\n  var width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n\n  ctx.beginPath();\n  this._drawPoint(point.x, point.y, width);\n  ctx.closePath();\n  ctx.fill();\n};\n\nSignaturePad.prototype._fromData = function (pointGroups, drawCurve, drawDot) {\n  for (var i = 0; i < pointGroups.length; i += 1) {\n    var group = pointGroups[i];\n\n    if (group.length > 1) {\n      for (var j = 0; j < group.length; j += 1) {\n        var rawPoint = group[j];\n        var point = new Point(rawPoint.x, rawPoint.y, rawPoint.time);\n        var color = rawPoint.color;\n\n        if (j === 0) {\n          // First point in a group. Nothing to draw yet.\n\n          // All points in the group have the same color, so it's enough to set\n          // penColor just at the beginning.\n          this.penColor = color;\n          this._reset();\n\n          this._addPoint(point);\n        } else if (j !== group.length - 1) {\n          // Middle point in a group.\n          var _addPoint2 = this._addPoint(point),\n              curve = _addPoint2.curve,\n              widths = _addPoint2.widths;\n\n          if (curve && widths) {\n            drawCurve(curve, widths, color);\n          }\n        } else {\n          // Last point in a group. Do nothing.\n        }\n      }\n    } else {\n      this._reset();\n      var _rawPoint = group[0];\n      drawDot(_rawPoint);\n    }\n  }\n};\n\nSignaturePad.prototype._toSVG = function () {\n  var _this2 = this;\n\n  var pointGroups = this._data;\n  var canvas = this._canvas;\n  var ratio = Math.max(window.devicePixelRatio || 1, 1);\n  var minX = 0;\n  var minY = 0;\n  var maxX = canvas.width / ratio;\n  var maxY = canvas.height / ratio;\n  var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n\n  svg.setAttributeNS(null, 'width', canvas.width);\n  svg.setAttributeNS(null, 'height', canvas.height);\n\n  this._fromData(pointGroups, function (curve, widths, color) {\n    var path = document.createElement('path');\n\n    // Need to check curve for NaN values, these pop up when drawing\n    // lines on the canvas that are not continuous. E.g. Sharp corners\n    // or stopping mid-stroke and than continuing without lifting mouse.\n    if (!isNaN(curve.control1.x) && !isNaN(curve.control1.y) && !isNaN(curve.control2.x) && !isNaN(curve.control2.y)) {\n      var attr = 'M ' + curve.startPoint.x.toFixed(3) + ',' + curve.startPoint.y.toFixed(3) + ' ' + ('C ' + curve.control1.x.toFixed(3) + ',' + curve.control1.y.toFixed(3) + ' ') + (curve.control2.x.toFixed(3) + ',' + curve.control2.y.toFixed(3) + ' ') + (curve.endPoint.x.toFixed(3) + ',' + curve.endPoint.y.toFixed(3));\n\n      path.setAttribute('d', attr);\n      path.setAttribute('stroke-width', (widths.end * 2.25).toFixed(3));\n      path.setAttribute('stroke', color);\n      path.setAttribute('fill', 'none');\n      path.setAttribute('stroke-linecap', 'round');\n\n      svg.appendChild(path);\n    }\n  }, function (rawPoint) {\n    var circle = document.createElement('circle');\n    var dotSize = typeof _this2.dotSize === 'function' ? _this2.dotSize() : _this2.dotSize;\n    circle.setAttribute('r', dotSize);\n    circle.setAttribute('cx', rawPoint.x);\n    circle.setAttribute('cy', rawPoint.y);\n    circle.setAttribute('fill', rawPoint.color);\n\n    svg.appendChild(circle);\n  });\n\n  var prefix = 'data:image/svg+xml;base64,';\n  var header = '<svg' + ' xmlns=\"http://www.w3.org/2000/svg\"' + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"' + (' viewBox=\"' + minX + ' ' + minY + ' ' + maxX + ' ' + maxY + '\"') + (' width=\"' + maxX + '\"') + (' height=\"' + maxY + '\"') + '>';\n  var body = svg.innerHTML;\n\n  // IE hack for missing innerHTML property on SVGElement\n  if (body === undefined) {\n    var dummy = document.createElement('dummy');\n    var nodes = svg.childNodes;\n    dummy.innerHTML = '';\n\n    for (var i = 0; i < nodes.length; i += 1) {\n      dummy.appendChild(nodes[i].cloneNode(true));\n    }\n\n    body = dummy.innerHTML;\n  }\n\n  var footer = '</svg>';\n  var data = header + body + footer;\n\n  return prefix + btoa(data);\n};\n\nSignaturePad.prototype.fromData = function (pointGroups) {\n  var _this3 = this;\n\n  this.clear();\n\n  this._fromData(pointGroups, function (curve, widths) {\n    return _this3._drawCurve(curve, widths.start, widths.end);\n  }, function (rawPoint) {\n    return _this3._drawDot(rawPoint);\n  });\n\n  this._data = pointGroups;\n};\n\nSignaturePad.prototype.toData = function () {\n  return this._data;\n};\n\nexport default SignaturePad;\n","import {InjectionToken} from '@angular/core';\nimport {ISignaturePadConfig} from '../interfaces/signature-pad-config.interface';\n\nexport const /** @type {?} */ GlobalSignaturePadConfig = new InjectionToken<ISignaturePadConfig>('Global SignaturePad default config');\n","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AbstractControl, FormControl} from '@angular/forms';\nimport {SignaturePadControlComponent} from '../signature-pad-control/signature-pad-control.component';\nexport class SignaturePadCardGroupComponent implements OnInit {\n\n  \n  theme: string;\n\n  \n  group: AbstractControl;\n\n  \n  config: any;\n\n  control: FormControl;\n\n  \n  signaturePadControl: SignaturePadControlComponent;\nconstructor() {\n\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this.control = /** @type {?} */(( this.group.get(this.config.name) as FormControl));\n  }\n/**\n * @return {?}\n */\nclear() {\n    this.signaturePadControl.clear();\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'signature-pad-card-group',\n  template: `\n    <div class=\"signature-pad-card\" [ngClass]=\"theme\" [formGroup]=\"group\">\n\n      <div class=\"signature-pad\">\n        <signature-pad-control [formControlName]=\"config.name\" #signaturePad>\n        </signature-pad-control>\n      </div>\n      <div class=\"line-break\"></div>\n      <div class=\"actions\">\n        <button class=\"clear\" (click)=\"clear()\">\n          {{'Clear Signature'}}\n        </button>\n      </div>\n\n      <div class=\"feedback\">\n\n        <!-- initial message -->\n        <div *ngIf=\"control?.untouched && control?.pristine\">Sign above!</div>\n\n        <!-- error messages -->\n        <div *ngIf=\"control?.dirty && control?.invalid\">\n          <span class=\"form-text text-danger\" *ngFor=\"let error of (control?.errors | objToArray)\">\n           {{error.value.message}}\n          </span>\n        </div>\n\n        <!-- valid message -->\n        <div *ngIf=\"control?.dirty && control.valid\">Thank you!</div>\n\n      </div>\n    </div>\n  `,\n  providers: []\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'theme': [{ type: Input },],\n'group': [{ type: Input },],\n'config': [{ type: Input },],\n'signaturePadControl': [{ type: ViewChild, args: ['signaturePad', ] },],\n};\n}\n\nfunction SignaturePadCardGroupComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nSignaturePadCardGroupComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSignaturePadCardGroupComponent.ctorParameters;\n/** @type {?} */\nSignaturePadCardGroupComponent.propDecorators;\n/** @type {?} */\nSignaturePadCardGroupComponent.prototype.theme;\n/** @type {?} */\nSignaturePadCardGroupComponent.prototype.group;\n/** @type {?} */\nSignaturePadCardGroupComponent.prototype.config;\n/** @type {?} */\nSignaturePadCardGroupComponent.prototype.control;\n/** @type {?} */\nSignaturePadCardGroupComponent.prototype.signaturePadControl;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":";;;;AaGA,MAAA,8BAAA,CAAA;IAeA,WAAA,GAAA;KAEG;;;;IAIH,QACG,GADH;QACI,IAAI,CACC,OAAC,IAAS,IAAA,CAAK,KAAC,CAAK,GAAC,CAAG,IAAC,CAAI,MAAC,CAAM,IAAC,CAAQ,CAAA,CAAY;KAAhE;;;;IAIH,KADG,GACH;QACI,IAAI,CADC,mBAAC,CAAmB,KAAC,EAAK,CAAE;KAElC;;AACI,8BAAP,CAAA,UAAO,GAAoC;IAE3C,EADE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAEvB,QAAQ,EADE,0BAAA;gBAEV,QAAQ,EADE,CACZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA+BA,CAAG;gBACD,SAAS,EADE,EAAA;aAEZ,EADC,EAAG;CAEJ,CADC;;;;AAED,8BAAD,CAAA,cAAC,GAAA,MAAA,EAIA,CAAC;AAFK,8BAAP,CAAA,cAAO,GAAyD;IAIhE,OAAO,EAHE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAI1B,OAAO,EAHE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAI1B,QAZE,EASQ,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAI3B,qBAAqB,EAHE,CAAA,EAAG,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA,cAAE,EAAc,EAAG,EAAE;CAIrE,CAHC;;AD5EK,MAAM,wBAAA,GAA2B,IAAI,cAAA,CAAmC,oCAAE,CAAoC;;ADHrH;;;;;;;;;;;;;;;;;;AAkBA,SAAS,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE;EACzB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EACX,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;CAC1C;;AAED,KAAK,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;EAC9C,OAAO,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;CACzF,CAAC;;AAEF,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,KAAK,EAAE;EAC5C,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;CACjF,CAAC;;AAEF,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,KAAK,EAAE;EACxC,OAAO,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC;CAC7E,CAAC;;AAEF,SAAS,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE;EACxD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;EAC7B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;EACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;EACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;CAC1B;;;AAGD,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;EACpC,IAAI,KAAK,GAAG,EAAE,CAAC;EACf,IAAI,MAAM,GAAG,CAAC,CAAC;EACf,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC;EAChB,IAAI,EAAE,GAAG,KAAK,CAAC,CAAC;;EAEhB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,IAAI,CAAC,EAAE;IAClC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAClB,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC9F,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC9F,IAAI,CAAC,GAAG,CAAC,EAAE;MACT,IAAI,KAAK,GAAG,EAAE,GAAG,EAAE,CAAC;MACpB,IAAI,KAAK,GAAG,EAAE,GAAG,EAAE,CAAC;MACpB,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC,CAAC;KACpD;IACD,EAAE,GAAG,EAAE,CAAC;IACR,EAAE,GAAG,EAAE,CAAC;GACT;;EAED,OAAO,MAAM,CAAC;CACf,CAAC;;;AAGF,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE;EACzD,OAAO,KAAK,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,GAAG,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;CAC1I,CAAC;;;;;AAKF,SAAS,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE;EACrC,IAAI,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC;EAC1B,IAAI,OAAO,GAAG,IAAI,CAAC;EACnB,IAAI,QAAQ,GAAG,CAAC,CAAC;EACjB,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,CAAC;EAC3B,IAAI,KAAK,GAAG,SAAS,KAAK,GAAG;IAC3B,QAAQ,GAAG,OAAO,CAAC,OAAO,KAAK,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACtD,OAAO,GAAG,IAAI,CAAC;IACf,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACnC,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC;GACrC,CAAC;EACF,OAAO,YAAY;IACjB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACrB,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC,OAAO,KAAK,KAAK,EAAE,QAAQ,GAAG,GAAG,CAAC;IAC3D,IAAI,SAAS,GAAG,IAAI,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC;IACxC,OAAO,GAAG,IAAI,CAAC;IACf,IAAI,GAAG,SAAS,CAAC;IACjB,IAAI,SAAS,IAAI,CAAC,IAAI,SAAS,GAAG,IAAI,EAAE;MACtC,IAAI,OAAO,EAAE;QACX,YAAY,CAAC,OAAO,CAAC,CAAC;QACtB,OAAO,GAAG,IAAI,CAAC;OAChB;MACD,QAAQ,GAAG,GAAG,CAAC;MACf,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;MACnC,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC;KACrC,MAAM,IAAI,CAAC,OAAO,IAAI,OAAO,CAAC,QAAQ,KAAK,KAAK,EAAE;MACjD,OAAO,GAAG,UAAU,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;KACxC;IACD,OAAO,MAAM,CAAC;GACf,CAAC;CACH;;AAED,SAAS,YAAY,CAAC,MAAM,EAAE,OAAO,EAAE;EACrC,IAAI,IAAI,GAAG,IAAI,CAAC;EAChB,IAAI,IAAI,GAAG,OAAO,IAAI,EAAE,CAAC;;EAEzB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,oBAAoB,IAAI,GAAG,CAAC;EAC7D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC;EACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC;EACrC,IAAI,CAAC,QAAQ,GAAG,UAAU,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACxD,IAAI,CAAC,WAAW,GAAG,aAAa,IAAI,IAAI,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;;EAEhE,IAAI,IAAI,CAAC,QAAQ,EAAE;IACjB,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;GACxF,MAAM;IACL,IAAI,CAAC,iBAAiB,GAAG,YAAY,CAAC,SAAS,CAAC,aAAa,CAAC;GAC/D;;EAED,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,YAAY;IACzC,OAAO,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;GAC5C,CAAC;EACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,OAAO,CAAC;EACzC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,IAAI,eAAe,CAAC;EAC/D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;EAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;;EAExB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;EACtB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;EACpC,IAAI,CAAC,KAAK,EAAE,CAAC;;;;EAIb,IAAI,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;IACvC,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC,EAAE;MACrB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;MAC7B,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;KAC1B;GACF,CAAC;;EAEF,IAAI,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;IACvC,IAAI,IAAI,CAAC,gBAAgB,EAAE;MACzB,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;KAC/B;GACF,CAAC;;EAEF,IAAI,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE;IACrC,IAAI,KAAK,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;MAC9C,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;MAC9B,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;KACxB;GACF,CAAC;;EAEF,IAAI,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE;IACxC,IAAI,KAAK,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;MACpC,IAAI,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;MACpC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;KAC1B;GACF,CAAC;;EAEF,IAAI,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE;;IAEvC,KAAK,CAAC,cAAc,EAAE,CAAC;;IAEvB,IAAI,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;IACnC,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;GAC/B,CAAC;;EAEF,IAAI,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE;IACtC,IAAI,gBAAgB,GAAG,KAAK,CAAC,MAAM,KAAK,IAAI,CAAC,OAAO,CAAC;IACrD,IAAI,gBAAgB,EAAE;MACpB,KAAK,CAAC,cAAc,EAAE,CAAC;MACvB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;KACxB;GACF,CAAC;;;EAGF,IAAI,CAAC,EAAE,EAAE,CAAC;CACX;;;AAGD,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,YAAY;EACzC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;EACpB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;;EAE1B,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC;EACrC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;EACjD,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;;EAEhD,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;EAChB,IAAI,CAAC,MAAM,EAAE,CAAC;EACd,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;CACtB,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,OAAO,EAAE;EACtD,IAAI,KAAK,GAAG,IAAI,CAAC;;EAEjB,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;;EAErF,IAAI,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;EACxB,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAC;EAC1D,IAAI,KAAK,GAAG,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;EACxD,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;;EAE3D,IAAI,CAAC,MAAM,EAAE,CAAC;EACd,KAAK,CAAC,GAAG,GAAG,OAAO,CAAC;EACpB,KAAK,CAAC,MAAM,GAAG,YAAY;IACzB,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;GAClD,CAAC;EACF,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;CACvB,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE;EACjD,IAAI,OAAO,CAAC;;EAEZ,QAAQ,IAAI;IACV,KAAK,eAAe;MAClB,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;IACvB;MACE,KAAK,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,OAAO,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE;QACzG,OAAO,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;OACrC;;MAED,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,EAAE,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;GACpF;CACF,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,EAAE,GAAG,YAAY;EACtC,IAAI,CAAC,kBAAkB,EAAE,CAAC;EAC1B,IAAI,CAAC,kBAAkB,EAAE,CAAC;CAC3B,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,YAAY;EACvC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;EACrE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;EACrE,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;;EAE7D,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;EACvE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;EACrE,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;CACpE,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,YAAY;EAC3C,OAAO,IAAI,CAAC,QAAQ,CAAC;CACtB,CAAC;;;AAGF,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;EACrD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EACpB,IAAI,CAAC,MAAM,EAAE,CAAC;EACd,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;;EAE1B,IAAI,OAAO,IAAI,CAAC,OAAO,KAAK,UAAU,EAAE;IACtC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;GACrB;CACF,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE;EACtD,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;EACtB,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC;;EAEtB,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACpC,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;EACvD,IAAI,SAAS,GAAG,cAAc,IAAI,cAAc,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;EAC5E,IAAI,mBAAmB,GAAG,SAAS,IAAI,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;;;EAGtF,IAAI,EAAE,SAAS,IAAI,mBAAmB,CAAC,EAAE;IACvC,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;QACjC,KAAK,GAAG,SAAS,CAAC,KAAK;QACvB,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC;;IAE9B,IAAI,KAAK,IAAI,MAAM,EAAE;MACnB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;KAClD;;IAED,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC;MACrC,CAAC,EAAE,KAAK,CAAC,CAAC;MACV,CAAC,EAAE,KAAK,CAAC,CAAC;MACV,IAAI,EAAE,KAAK,CAAC,IAAI;MAChB,KAAK,EAAE,IAAI,CAAC,QAAQ;KACrB,CAAC,CAAC;GACJ;CACF,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,KAAK,EAAE;EACnD,IAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;EAC1C,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;;EAE3B,IAAI,CAAC,YAAY,IAAI,KAAK,EAAE;IAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;GACtB;;EAED,IAAI,KAAK,EAAE;IACT,IAAI,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IACvD,IAAI,SAAS,GAAG,cAAc,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;;;IAI1D,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;MAC5B,cAAc,CAAC,IAAI,CAAC;QAClB,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,IAAI,EAAE,KAAK,CAAC,IAAI;QAChB,KAAK,EAAE,IAAI,CAAC,QAAQ;OACrB,CAAC,CAAC;KACJ;GACF;;EAED,IAAI,OAAO,IAAI,CAAC,KAAK,KAAK,UAAU,EAAE;IACpC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;GACnB;CACF,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;EACtD,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;;EAE9B,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;EAClE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;EAClE,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;CAC3D,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;;EAEtD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC;EAC1C,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC;;EAExC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;EACpE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;EAClE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;CACjE,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;EAC1C,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;EACjB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;EACvB,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;EACtD,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;CACrC,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE;EAC1D,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;;EAEhD,OAAO,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;CAC7E,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,KAAK,EAAE;EAClD,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;EACzB,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC;;EAEjB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;EAEnB,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;;;IAGrB,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEnD,GAAG,GAAG,IAAI,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;IAChB,GAAG,GAAG,IAAI,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,IAAI,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;IAChB,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,IAAI,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC;;;;IAI/C,MAAM,CAAC,KAAK,EAAE,CAAC;;IAEf,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;GACzC;;EAED,OAAO,EAAE,CAAC;CACX,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,4BAA4B,GAAG,UAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;EAC1E,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;EACtB,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;EACtB,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;EACtB,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;;EAEtB,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC;EAC5D,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC;;EAE5D,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;EAC1C,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;;EAE1C,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;EACtB,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;;EAEtB,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;EACvB,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC;;EAElD,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;EACrB,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;;EAErB,OAAO;IACL,EAAE,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;IACnC,EAAE,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;GACpC,CAAC;CACH,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,KAAK,EAAE;EAC9D,IAAI,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;EAClC,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;EAC9B,IAAI,MAAM,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;;EAExC,IAAI,QAAQ,GAAG,IAAI,CAAC,oBAAoB,GAAG,QAAQ,CAAC,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,oBAAoB,IAAI,IAAI,CAAC,aAAa,CAAC;;EAEpI,IAAI,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;;EAE3C,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC;EAC/B,MAAM,CAAC,GAAG,GAAG,QAAQ,CAAC;;EAEtB,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;EAC9B,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;;EAE3B,OAAO,MAAM,CAAC;CACf,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,QAAQ,EAAE;EACxD,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;CAChE,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE;EACxD,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;;EAEpB,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACjB,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;EAC3C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;CACvB,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,KAAK,EAAE,UAAU,EAAE,QAAQ,EAAE;EACzE,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;EACpB,IAAI,UAAU,GAAG,QAAQ,GAAG,UAAU,CAAC;EACvC,IAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;;EAE3C,GAAG,CAAC,SAAS,EAAE,CAAC;;EAEhB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,IAAI,CAAC,EAAE;;IAErC,IAAI,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC;IACtB,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACf,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;IACjB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACd,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IACf,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;;IAEjB,IAAI,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;IACjC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;;IAE5B,IAAI,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;IACjC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;IACnC,CAAC,IAAI,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;;IAE5B,IAAI,KAAK,GAAG,UAAU,GAAG,GAAG,GAAG,UAAU,CAAC;IAC1C,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;GAC9B;;EAED,GAAG,CAAC,SAAS,EAAE,CAAC;EAChB,GAAG,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;EACjD,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;EACpB,IAAI,KAAK,GAAG,OAAO,IAAI,CAAC,OAAO,KAAK,UAAU,GAAG,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;;EAE/E,GAAG,CAAC,SAAS,EAAE,CAAC;EAChB,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;EACzC,GAAG,CAAC,SAAS,EAAE,CAAC;EAChB,GAAG,CAAC,IAAI,EAAE,CAAC;CACZ,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE;EAC5E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;IAC9C,IAAI,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;;IAE3B,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;MACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QACxC,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACxB,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC7D,IAAI,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC;;QAE3B,IAAI,CAAC,KAAK,CAAC,EAAE;;;;;UAKX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;UACtB,IAAI,CAAC,MAAM,EAAE,CAAC;;UAEd,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SACvB,MAAM,IAAI,CAAC,KAAK,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;;UAEjC,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;cAClC,KAAK,GAAG,UAAU,CAAC,KAAK;cACxB,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;;UAE/B,IAAI,KAAK,IAAI,MAAM,EAAE;YACnB,SAAS,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;WACjC;SACF,MAAM;;SAEN;OACF;KACF,MAAM;MACL,IAAI,CAAC,MAAM,EAAE,CAAC;MACd,IAAI,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;MACzB,OAAO,CAAC,SAAS,CAAC,CAAC;KACpB;GACF;CACF,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;EAC1C,IAAI,MAAM,GAAG,IAAI,CAAC;;EAElB,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;EAC7B,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;EAC1B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;EACtD,IAAI,IAAI,GAAG,CAAC,CAAC;EACb,IAAI,IAAI,GAAG,CAAC,CAAC;EACb,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;EAChC,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;EACjC,IAAI,GAAG,GAAG,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;;EAExE,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;EAChD,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;;EAElD,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE;IAC1D,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;;;;;IAK1C,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;MAChH,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;;MAE3T,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;MAC7B,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,GAAG,GAAG,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;MAClE,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;MACnC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;MAClC,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;;MAE7C,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACvB;GACF,EAAE,UAAU,QAAQ,EAAE;IACrB,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,OAAO,GAAG,OAAO,MAAM,CAAC,OAAO,KAAK,UAAU,GAAG,MAAM,CAAC,OAAO,EAAE,GAAG,MAAM,CAAC,OAAO,CAAC;IACvF,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAClC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;IACtC,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;IACtC,MAAM,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;;IAE5C,GAAG,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;GACzB,CAAC,CAAC;;EAEH,IAAI,MAAM,GAAG,4BAA4B,CAAC;EAC1C,IAAI,MAAM,GAAG,MAAM,GAAG,qCAAqC,GAAG,6CAA6C,IAAI,YAAY,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,UAAU,GAAG,IAAI,GAAG,GAAG,CAAC,IAAI,WAAW,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;EAChP,IAAI,IAAI,GAAG,GAAG,CAAC,SAAS,CAAC;;;EAGzB,IAAI,IAAI,KAAK,SAAS,EAAE;IACtB,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC5C,IAAI,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC;IAC3B,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;;IAErB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;MACxC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;KAC7C;;IAED,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC;GACxB;;EAED,IAAI,MAAM,GAAG,QAAQ,CAAC;EACtB,IAAI,IAAI,GAAG,MAAM,GAAG,IAAI,GAAG,MAAM,CAAC;;EAElC,OAAO,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;CAC5B,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,WAAW,EAAE;EACvD,IAAI,MAAM,GAAG,IAAI,CAAC;;EAElB,IAAI,CAAC,KAAK,EAAE,CAAC;;EAEb,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE;IACnD,OAAO,MAAM,CAAC,UAAU,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC;GAC3D,EAAE,UAAU,QAAQ,EAAE;IACrB,OAAO,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;GAClC,CAAC,CAAC;;EAEH,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC;CAC1B,CAAC;;AAEF,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;EAC1C,OAAO,IAAI,CAAC,KAAK,CAAC;CACnB,CAAC;;ADrkBF,MAAA,qBAAA,CAAA;;;;;IA+CA,WAAA,CACc,QAAU,EACV,aAAgB,EAF9B;QACc,IAAd,CAAA,QAAc,GAAA,QAAA,CAAU;QACV,IAAd,CAAA,aAAc,GAAA,aAAA,CAAgB;QArClB,IAAZ,CAAA,KAAY,GAAa,EAAA,CAAG;QAGhB,IAAZ,CAAA,WAAY,GAAiC,IAAI,YAAA,EAAmB,CAAG;QAKrE,IAAF,CAAA,YAAc,GAGG,CAAA,KAAE,KAHnB;;YAEI,IAAI,IAGC,CAAI,QAAC,CAAQ,IAAC,CAAI,MAAC,CAAM;mBACzB,OAAA,IAAW,IAAA,CAAK,MAAC;mBACjB,OAAO,IAAA,CAAK,MAAC,CAAM,KAAC,KAAS,UAAA,EAAY;gBAF5C,IAAI,CAGC,MAAC,CAAM,KAAC,CAAK,KAAC,CAAK,CAAC;aAF1B;;;YAID,IAAI,CAGC,WAAC,CAAW,IAAC,CAAI,YAAC,CAAY,MAAC,EAAM,CAAE,CAAC;SAF9C,CAAA;QAED,IAAF,CAAA,cAAgB,GAGG,CAAA,KAAE,KAHrB;;YAEI,IAAI,IAGC,CAAI,QAAC,CAAQ,IAAC,CAAI,MAAC,CAAM;mBACzB,SAAA,IAAa,IAAA,CAAK,MAAC;mBACnB,OAAO,IAAA,CAAK,MAAC,CAAM,OAAC,KAAW,UAAA,EAAY;gBAF9C,IAAI,CAGC,MAAC,CAAM,OAAC,CAAO,KAAC,CAAK,CAAC;aAF5B;;SAGF,CAAA;QAgFD,IAAF,CAAA,kBAAoB,GAjBG,MAiBvB;YACI,IAAI,IAjBC,CAAI,MAAC,EAAO;gBAmBf,IAAI,CAjBC,YAAC,EAAY,CAAE;;;;;gBAuBpB,IAAI,CAjBC,eAAC,CAAe,IAAC,CAAI,KAAC,CAAK,CAAC;aAkBlC;SACF,CAAA;KAlFA;;;;;IAKH,WAHG,CAAA,OAAA,EAGH;QACI,IAAI,QAHC,IAAW,OAAA,EAAS;YAIvB,IAAI,CAHC,YAAC,CAAY,OAAC,CAAO,MAAC,CAAM,YAAC,CAAY,CAAC;SAIhD;KACF;;;;IAIH,QALG,GAKH;QACI,IAAI,CALC,sBAAC,EAAsB,CAAE;KAM/B;;;;IAIH,eAPG,GAOH;;QAEI,IAAI,CAPC,QAAC,CAAQ,MAAC,CAAM,IAAC,CAAI,MAAC,EAAO,OAAA,EAAS,CAAA,MAAE,KAOjD;YACM,IAAI,CAPC,WAAC,CAAW,IAAC,CAAI,CAAC;SAQxB,CAPC,CAAC;;QAUH,IAAI,CAPC,QAAC,CAAQ,MAAC,CAAM,IAAC,CAAI,MAAC,EAAO,MAAA,EAAQ,CAAA,MAAE,KAOhD;YACM,IAAI,CAPC,WAAC,CAAW,KAAC,CAAK,CAAC;SAQzB,CAPC,CAAC;;QAUH,IAAI,CAPC,kBAAC,EAAkB,CAAE;QAQ1B,IAAI,CAPC,QAAC,CAAQ,MAAC,CAAM,QAAC,EAAS,QAAA,EAAU,CAAA,MAAE,KAO/C;YACM,IAAI,CAPC,kBAAC,EAAkB,CAAE;SAQ3B,CAPC,CAAC;KAQJ;;;;IAIH,QATG,GASH;QACI,OATO,IAAA,CAAK,KAAC,CAAK;KAUnB;;;;;IAKH,QAZG,CAAA,aAAA,EAYH;QACI,IAAI,aAZC,IAAgB,aAAA,CAAc,WAAC,KAAe,EAAA,CAAG,WAAC,EAAY;YAajE,IAAI,CAZC,KAAC,GAAO,CAAA,GAAE,aAAG,CAAa,CAAC;SAajC;aAZM;YAaL,IAAI,CAZC,KAAC,GAAO,IAAA,CAAK;SAanB;QAED,IAAI,CAZC,WAAC,CAAW,IAAC,CAAI,IAAC,CAAI,KAAC,CAAK,CAAC;KAanC;;;;;IAKH,gBAfG,CAAA,UAAA,EAeH;QACI,IAAI,CAfC,QAAC,GAAU,UAAA,CAAW;QAgB3B,IAAI,CAfC,kBAAC,EAAkB,CAAE;KAgB3B;;;;IAIH,KAjBG,GAiBH;QACI,IAAI,CAjBC,YAAC,CAAY,KAAC,EAAK,CAAE;QAkB1B,IAAI,CAjBC,QAAC,CAAQ,IAAC,CAAI,CAAC;KAkBrB;;;;;IACA,WAAA,CAAA,aAAA,EAAH;QAkBI,IAAI,CAjBC,QAAC,CAAQ,aAAC,CAAa,CAAC;KAkB9B;;;;;IAZA,WAAA,CAAA,OAAA,EAAH;QAkBI,IAAI,CAjBC,KAAC,GAAO,OAAA,CAAQ;QAkBrB,IAAI,CAjBC,eAAC,EAAe,CAAE;KAkBxB;;;;IAIH,kBAjBG,GAiBH;QACI,IAAI,CAjBC,QAAC,CAAQ,WAAC,CAAW,IAAC,CAAI,MAAC,EAAO,UAAA,EAAY,IAAA,CAAK,QAAC,CAAQ,CAAC;QAmBlE,IAAI,IAjBC,CAAI,QAAC,EAAS;YAkBjB,IAAI,CAjBC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,MAAC,EAAO,UAAA,CAAW,CAAC;SAkBjD;aAjBM;YAkBL,IAAI,CAjBC,QAAC,CAAQ,WAAC,CAAW,IAAC,CAAI,MAAC,EAAO,UAAA,CAAW,CAAC;SAkBpD;KACF;;;;IAIH,eAnBG,GAmBH;QACI,IAAI,CAnBC,QAAC,CAAQ,WAAC,CAAW,IAAC,CAAI,MAAC,EAAO,OAAA,EAAS,IAAA,CAAK,KAAC,CAAK,CAAC;QAqB5D,IAAI,IAnBC,CAAI,KAAC,EAAM;YAoBd,IAAI,CAnBC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,MAAC,EAAO,OAAA,CAAQ,CAAC;SAoB9C;aAnBM;YAoBL,IAAI,CAnBC,QAAC,CAAQ,WAAC,CAAW,IAAC,CAAI,MAAC,EAAO,OAAA,CAAQ,CAAC;SAoBjD;KACF;;;;;IAKH,eAtBG,CAAA,aAAA,EAsBH;QACI,IAAI,aAtBC,IAAgB,aAAA,CAAc,WAAC,KAAe,EAAA,CAAG,WAAC,EAAY;YAuBjE,IAAI,CAtBC,YAAC,CAAY,QAAC,CAAQ,CAAC,GAAC,aAAG,CAAa,CAAC,CAAC;SAuBhD;aAtBM;YAuBL,IAAI,CAtBC,YAAC,CAAY,KAAC,EAAK,CAAE;SAuB3B;KACF;;;;;IAjBA,YAAA,CAAA,MAAA,EAAH;QAwBI,IAAI,CAtBC,MAAC,IAAS,MAAA,CAAO,WAAC,KAAe,EAAA,CAAG,WAAC,IAAc,CAAA,IAAE,CAAI,YAAC,EAAa;YAuB1E,OAAO;SACR;QAED,IAAI,SAtBC,IAAY,MAAA,IAAU,MAAA,CAAO,OAAC,EAAQ;YAuBzC,IAAI,CAtBC,YAAC,CAAY,OAAC,GAAS,MAAA,CAAO,OAAC,CAAO;SAuB5C;QAED,IAAI,UAtBC,IAAa,MAAA,IAAU,MAAA,CAAO,QAAC,IAAW,CAAA,EAAG;YAuBhD,IAAI,CAtBC,YAAC,CAAY,QAAC,GAAU,MAAA,CAAO,QAAC,CAAQ;YAuB7C,OAAO,CAtBC,GAAC,CAAG,UAAC,EAAW,IAAA,CAAK,YAAC,CAAY,QAAC,EAAS,MAAA,CAAO,QAAC,CAAQ,CAAC;SAuBtE;QAED,IAAI,UAtBC,IAAa,MAAA,IAAU,MAAA,CAAO,QAAC,IAAW,CAAA,EAAG;YAuBhD,IAAI,CAtBC,YAAC,CAAY,QAAC,GAAU,MAAA,CAAO,QAAC,CAAQ;SAuB9C;QAED,IAAI,UAtBC,IAAa,MAAA,IAAU,MAAA,CAAO,QAAC,IAAW,CAAA,EAAG;YAuBhD,IAAI,CAtBC,YAAC,CAAY,QAAC,GAAU,MAAA,CAAO,QAAC,CAAQ;SAuB9C;QAED,IAAI,iBAtBC,IAAoB,MAAA,IAAU,MAAA,CAAO,eAAC,EAAgB;YAuBzD,IAAI,CAtBC,YAAC,CAAY,eAAC,GAAiB,MAAA,CAAO,eAAC,CAAe;YAuB3D,IAAI,CAtBC,kBAAC,EAAkB,CAAE;SAuB3B;QAED,IAAI,UAtBC,IAAa,MAAA,IAAU,MAAA,CAAO,QAAC,EAAS;YAuB3C,IAAI,CAtBC,YAAC,CAAY,QAAC,GAAU,MAAA,CAAO,QAAC,CAAQ;SAuB9C;QAED,IAAI,sBAtBC,IAAyB,MAAA,IAAU,MAAA,CAAO,oBAAC,IAAuB,CAAA,EAAG;YAuBxE,IAAI,CAtBC,YAAC,CAAY,oBAAC,GAAsB,MAAA,CAAO,oBAAC,CAAoB;SAuBtE;;;;KAMF;;;;IApBA,YAAA,GAAH;;;;;QAgCI,uBAxBM,KAAA,GAAQ,CAAA,CAAE;;QA2BhB,uBAxBM,YAAA,GAAe,MAAA,CAAO,gBAAC,CAAgB,IAAC,CAAI,MAAC,EAAO,IAAA,CAAK,CAAC;QAyBhE,uBAxBM,YAAA,IAAgC,EAAM,CAAA,CAAgB;QAyB5D,YAAY,CAxBC,GAAC,GAAK,QAAA,CAAS,YAAC,CAAY,cAAC,EAAe,IAAA,CAAK,IAAI,CAAA,CAAE;QAyBpE,YAAY,CAxBC,MAAC,GAAQ,QAAA,CAAS,YAAC,CAAY,iBAAC,EAAkB,IAAA,CAAK,IAAI,CAAA,CAAE;QAyB1E,YAAY,CAxBC,IAAC,GAAM,QAAA,CAAS,YAAC,CAAY,eAAC,EAAgB,IAAA,CAAK,IAAI,CAAA,CAAE;QAyBtE,YAAY,CAxBC,KAAC,GAAO,QAAA,CAAS,YAAC,CAAY,gBAAC,EAAiB,IAAA,CAAK,IAAI,CAAA,CAAE;QAyBxE,YAAY,CAxBC,UAAC,GAAY,YAAA,CAAa,GAAC,GAAK,YAAA,CAAa,MAAC,CAAM;QAyBjE,YAAY,CAxBC,SAAC,GAAW,YAAA,CAAa,IAAC,GAAM,YAAA,CAAa,KAAC,CAAK;QA0BhE,uBAxBM,eAAA,GAAkB,MAAA,CAAO,gBAAC,CAAgB,IAAC,CAAI,SAAC,EAAU,IAAA,CAAK,CAAC;QAyBtE,uBAxBM,aAAA,IAAiC,EAAM,CAAA,CAAgB;QAyB7D,aAAa,CAxBC,GAAC,GAAK,QAAA,CAAS,eAAC,CAAe,UAAC,EAAW,IAAA,CAAK,IAAI,CAAA,CAAE;QAyBpE,aAAa,CAxBC,MAAC,GAAQ,QAAA,CAAS,eAAC,CAAe,aAAC,EAAc,IAAA,CAAK,IAAI,CAAA,CAAE;QAyB1E,aAAa,CAxBC,IAAC,GAAM,QAAA,CAAS,eAAC,CAAe,WAAC,EAAY,IAAA,CAAK,IAAI,CAAA,CAAE;QAyBtE,aAAa,CAxBC,KAAC,GAAO,QAAA,CAAS,eAAC,CAAe,YAAC,EAAa,IAAA,CAAK,IAAI,CAAA,CAAE;QAyBxE,aAAa,CAxBC,UAAC,GAAY,aAAA,CAAc,GAAC,GAAK,aAAA,CAAc,MAAC,CAAM;QAyBpE,aAAa,CAxBC,SAAC,GAAW,aAAA,CAAc,IAAC,GAAM,aAAA,CAAc,KAAC,CAAK;QA0BnE,uBAxBM,cAAA,GAAiB,aAAA,CAAc,SAAC,GAAW,YAAA,CAAa,SAAC,CAAS;QAyBxE,uBAxBM,gBAAA,GAAmB,aAAA,CAAc,UAAC,GAAY,YAAA,CAAa,UAAC,CAAU;;;QA6B5E,qBAxBI,cAAA,GAAiB,CAAA,CAAE;QAyBvB,IAAI,IAxBC,CAAI,KAAC,IAAQ,EAAA,CAAG,WAAC,KAAe,IAAA,CAAK,KAAC,CAAK,WAAC,EAAY;YAyB3D,cAAc,GAxBG,IAAA,CAAK,KAAC;iBAyBpB,MAxBC,CAAM,CAAC,QAAC,EAAS,GAAA,KAAQ,QAAA,CAAS,MAAC,CAAM,GAAC,CAAG,EAAE,EAAA,CAAG;iBAyBnD,MAxBC,CAAM,CAAC,EAAC,EAAG,OAAA,KAAY,EAAA,GAAK,OAAA,CAAQ,CAAC,GAAG,OAAA,CAAQ,CAAC,GAAG,EAAA,EAAI,CAAA,CAAE,CAAC;SAyBhE;;QAGD,qBAxBI,eAAA,GAAkB,CAAA,CAAE;QAyBxB,IAAI,IAxBC,CAAI,KAAC,IAAQ,EAAA,CAAG,WAAC,KAAe,IAAA,CAAK,KAAC,CAAK,WAAC,EAAY;YAyB3D,eAAe,GAxBG,IAAA,CAAK,KAAC;iBAyBrB,MAxBC,CAAM,CAAC,QAAC,EAAS,GAAA,KAAQ,QAAA,CAAS,MAAC,CAAM,GAAC,CAAG,EAAE,EAAA,CAAG;iBAyBnD,MAxBC,CAAM,CAAC,EAAC,EAAG,OAAA,KAAY,EAAA,GAAK,OAAA,CAAQ,CAAC,GAAG,OAAA,CAAQ,CAAC,GAAG,EAAA,EAAI,CAAA,CAAE,CAAC;SAyBhE;;QAGD,uBAxBM,cAAA,GAAiB,IAAA,CAAK,GAAC,CAAG,IAAC,CAAI,SAAC,CAAS,WAAC,EAAY,cAAA,CAAe,CAAC;QAyB5E,uBAxBM,eAAA,GAAkB,IAAA,CAAK,GAAC,CAAG,IAAC,CAAI,SAAC,CAAS,YAAC,EAAa,eAAA,CAAgB,CAAC;;QA2B/E,IAAI,CAxBC,MAAC,CAAM,KAAC,GAAO,CAAA,cAAE,GAAgB,cAAA,IAAkB,KAAA,CAAM;QAyB9D,IAAI,CAxBC,MAAC,CAAM,MAAC,GAAQ,CAAA,eAAE,GAAiB,gBAAA,GAAmB,CAAA,IAAK,KAAA,CAAM;QAyBtE,IAAI,CAxBC,MAAC,CAAM,UAAC,CAAU,IAAC,CAAI,CAAC,KAAC,CAAK,KAAC,EAAM,KAAA,CAAM,CAAC;;QA2BjD,IAAI,CAxBC,SAAC,CAAS,KAAC,CAAK,SAAC,GAAW,SAAA,CAAU;QAyB3C,IAAI,IAxBC,CAAI,MAAC,CAAM,KAAC,GAAO,cAAA,GAAiB,IAAA,CAAK,SAAC,CAAS,WAAC,EAAY;YAyBnE,IAAI,CAxBC,SAAC,CAAS,KAAC,CAAK,SAAC,GAAW,QAAA,CAAS;SAyB3C;;QAGD,IAAI,CAxBC,SAAC,CAAS,KAAC,CAAK,SAAC,GAAW,SAAA,CAAU;QAyB3C,IAAI,IAxBC,CAAI,MAAC,CAAM,MAAC,GAAQ,IAAA,CAAK,SAAC,CAAS,YAAC,EAAa;YAyBpD,IAAI,CAxBC,SAAC,CAAS,KAAC,CAAK,SAAC,GAAW,QAAA,CAAS;SAyB3C;;;;;QAMD,IAAI,CAxBC,YAAC,CAAY,KAAC,EAAK,CAAE;KAyB3B;;;;IAtBA,sBAAA,GAAH;QA2BI,IAAI,CA1BC,MAAC,GAAQ,IAAA,CAAK,SAAC,CAAS,aAAC,CAAa;QA2B3C,IAAI,CA1BC,SAAC,GAAW,IAAA,CAAK,MAAC,CAAM,aAAC,CAAa;QA2B3C,IAAI,CA1BC,SAAC,CAAS,SAAC,GAAW,IAAA,CAAK,SAAC,CAAS,SAAC,GAAW,gBAAA,CAAiB;QA4BvE,IAAI,CA1BC,YAAC,GAAc,IAAI,YAAA,CAAa,IAAC,CAAI,MAAC,EAAO,IAAA,CAAK,aAAC,CAAa,CAAC;;QA4BtE,IAAI,CA1BC,YAAC,CAAY,OAAC,GAAS,IAAA,CAAK,cAAC,CAAc;;QA4BhD,IAAI,CA1BC,YAAC,CAAY,KAAC,GAAO,IAAA,CAAK,YAAC,CAAY;QA4B5C,IAAI,CA1BC,YAAC,CAAY,IAAC,CAAI,MAAC,CAAM,CAAC;KA2BhC;;;;;IAxBA,QAAA,CAAA,GAAA,EAAH;QA8BI,uBA7BM,iBAAA,GAAoB,EAAA,CAAG,WAAC,CAAW;QA8BzC,OA7BO,GAAA,IAAO,GAAA,CAAI,WAAC,KAAe,iBAAA,CAAkB;KA8BrD;;AA3BI,qBAAP,CAAA,UAAO,GAAoC;IA8B3C,EA7BE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBA8BvB,QAAQ,EA7BE,eAAA;gBA8BV,QAAQ,EA7BE,CA6BZ;;;;;;;;EAQA,CAAG;aACF,EA7BC,EAAG;CA8BJ,CA7BC;;;;AAED,qBAAD,CAAA,cAAC,GAAA,MAAA;IAgCD,EAAC,IAAI,EAAE,SAAS,GAAG;IACnB,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,wBAAwB,EAAG,EAAE,EAAG,EAAC;CAC1G,CAAC;AA9BK,qBAAP,CAAA,cAAO,GAAyD;IAgChE,WAAW,EA/BE,CAAA,EAAG,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA,iBAAE,EAAiB,EAAG,EAAE;IAgC/D,aAAa,EA/BE,CAAA,EAAG,IAAA,EAAM,MAAA,EAAO,EAAE;IAgCjC,QAAQ,EA/BE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;CAgC1B,CA/BC;;ADpUF,MAAA,4BAEC,SAAA,qBAAA,CAFD;;;;;;IAiBA,WAAA,CAFG,QAAqB,EACC,mBAAqB,EAG9B,aAFgB,EAAhC;QAGI,KAAK,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;QAJV,IAAzB,CAAA,mBAAyB,GAAA,mBAAA,CAAqB;QAT5C,IAAF,CAAA,OAAS,GAEG,MAFZ;SACG,CAAA;QAED,IAAF,CAAA,aAAe,GAEG,CAAA,KAAQ,KAF1B;SACG,CAAA;KAUA;;;;IAIH,QAJG,GAIH;QACI,KAAK,CAJC,QAAC,EAAQ,CAAE;QAKjB,IAAI,IAJC,CAAI,mBAAC,EAAoB;YAK5B,IAAI,CAJC,OAAC,GAAS,IAAA,CAAK,mBAAC,CAAmB,MAAC,CAAM,CAAC,QAAC,CAAQ,IAAC,CAAI,eAAC,CAAe,CAAC;SAKhF;KACF;;;;;IAKH,UAPG,CAAA,aAAA,EAOH;QACG,IAAI,CAPC,eAAC,CAAe,aAAC,CAAa,CAAC;KAQpC;;;;;IAKH,gBAVG,CAAA,EAAA,EAUH;QACI,IAAI,CAVC,aAAC,GAAe,EAAA,CAAG;KAWzB;;;;;IAKH,iBAbG,CAAA,EAAA,EAaH;QACI,IAAI,CAbC,OAAC,GAAS,EAAA,CAAG;KAcnB;;;;;;IAMH,WAXG,CAAA,OAAA,EAWH;QACI,KAAK,CAXC,WAAC,CAAW,OAAC,CAAO,CAAC;QAY3B,IAAI,CAXC,OAAC,EAAQ;YAYZ,IAAI,CAXC,OAAC,EAAO,CAAE;SAYhB;KACF;;;;;;IAMH,WAXG,CAAA,aAAA,EAWH;QACI,KAAK,CAXC,WAAC,CAAW,aAAC,CAAa,CAAC;QAYjC,IAAI,CAXC,aAAC,CAAa,aAAC,CAAa,CAAC;KAYnC;;;;IAIH,KAbG,GAaH;QACI,KAAK,CAbC,KAAC,EAAK,CAAE;QAcd,IAAI,CAbC,aAAC,CAAa,EAAC,CAAE,CAAC;KAcxB;;AAXI,4BAAP,CAAA,UAAO,GAAoC;IAc3C,EAbE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAcvB,QAAQ,EAbE,uBAAA;gBAcV,QAAQ,EAbE,CAaZ;;;;;;;;EAQA,CAAG;gBACD,SAAS,EAbE;oBAcT;wBACE,OAAO,EAbE,iBAAA;wBAcT,WAAW,EAbE,UAAA,CAAW,MAAM,4BAAA,CAA6B;wBAc3D,KAAK,EAbE,IAAA;qBAEX;iBAaC;aACF,EAbC,EAAG;CAcJ,CAbC;;;;AAED,4BAAD,CAAA,cAAC,GAAA,MAAA;IAgBD,EAAC,IAAI,EAAE,SAAS,GAAG;IACnB,EAAC,IAAI,EAAE,gBAAgB,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAG,EAAC;IAChG,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,wBAAwB,EAAG,EAAE,EAAG,EAAC;CAC1G,CAAC;AAdK,4BAAP,CAAA,cAAO,GAAyD;IAgBhE,iBAAiB,EAfE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;CAgBnC,CAfC;;ADrGF,MAAA,yBAEC,SAAA,4BAAA,CAFD;;;;;;IAcA,WAAA,CACI,QAFU,EAGP,mBAFqB,EAGtB,aAFgB,EADtB;QAKI,KAAK,CAAC,QAAQ,EAAE,mBAAmB,EAAE,aAAa,CAAC,CAAC;QAhBtD,IAAF,CAAA,KAAO,GAEW,QAAA,CAAS;KAexB;;AAAI,yBAAP,CAAA,UAAO,GAAoC;IAG3C,EAFE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;gBAGvB,QAAQ,EAFE,oBAAA;gBAGV,QAAQ,EAFE,CAEZ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAoCA,CAAG;gBACD,SAAS,EAFE;oBAGT;wBACE,OAAO,EAFE,iBAAA;wBAGT,WAAW,EAFE,UAAA,CAAW,MAAM,yBAAA,CAA0B;wBAGxD,KAAK,EAFE,IAAA;qBAGR;iBACF;aACF,EAFC,EAAG;CAGJ,CAFC;;;;AAED,yBAAD,CAAA,cAAC,GAAA,MAAA;IAKD,EAAC,IAAI,EAAE,SAAS,GAAG;IACnB,EAAC,IAAI,EAAE,gBAAgB,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAG,EAAC;IAChG,EAAC,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,wBAAwB,EAAG,EAAE,EAAG,EAAC;CAC1G,CAAC;AAHK,yBAAP,CAAA,cAAO,GAAyD;IAKhE,OAAO,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;IAK1B,iBAAiB,EAJE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;CAKnC,CAJC;;AD9FF,MAAA,cAAA,CAAA;;;;;;IAMA,SAFG,CAAA,KAAA,EAAA,IAAA,EAEH;QACI,uBAFM,OAAA,GAAU,EAAA,CAAG,WAAC,CAAW;QAG/B,IAAI,KAFC,IAAQ,KAAA,CAAM,WAAC,KAAe,OAAA,EAAS;YAG1C,OAFO,MAAA,CAAO,IAAC,CAAI,KAAC,CAAK;iBAGtB,GAFC,CAAG,GAAC,IAEd;gBACU,OAFO,EAAA,GAAE,EAAI,KAAA,EAAO,KAAA,CAAM,GAAC,CAAG,EAAC,CAAC;aAGjC,CAFC,CAAC;SAGN;QACD,OAFO,KAAA,CAAM;KAGd;;AAAI,cAAP,CAAA,UAAO,GAAoC;IAG3C,EAFE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,CAAA;gBAGlB,IAAI,EAFE,YAAA;aAGP,EAFC,EAAG;CAGJ,CAFC;;;;AAED,cAAD,CAAA,cAAC,GAAA,MAAA,EAKA,CAAC;;AD1BF;;;;AAIA,AAAA,SAAA,OAAA,CAHC,CAAA,EAGD;IACE,IAAI,CAHC,CAAC,KAAC,EAAM;QAIX,uBAHM,KAAA,GAAQ;YAIZ,OAAO,EAHE;gBAIP,OAAO,EAHE,uBAAA;aAIV;SACF,CAHC;QAKF,uBAHM,gBAAA,GAAmB,EAAA,CAAG,WAAC,CAAW;QAIxC,IAAI,CAHC,CAAC,KAAC,CAAK,WAAC,KAAe,gBAAA,EAAkB;YAI5C,OAHO,KAAA,CAAM;SAId;KACF;IACD,OAHO,IAAA,CAAK;CAIb;;ADlBD;;;;AAIA,AAAA,SAAA,eAAA,CAHC,CAAA,EAGD;IAEE,IAAI,CAHC,CAAC,KAAC,EAAM;QAIX,uBAHM,gBAAA,GAAmB,EAAA,CAAG,WAAC,CAAW;QAKxC,uBAHM,KAAA,GAAQ;YAIZ,eAAe,EAHE;gBAIf,wBAAwB,EAHE,CAAA;gBAI1B,OAAO,EAHE,oCAAA;aAIV;SACF,CAHC;QAKF,IAAI,CAHC,CAAC,KAAC,CAAK,WAAC,KAAe,gBAAA,EAAkB;YAI5C,OAHO,IAAA,CAAK;SAIb;QAED,uBAHM,gBAAA,GAIJ,CAAC,CAHC,KAAC,CAAK,MAAC,CAAM,UAAC,CAAU,EAEhC;;YAGQ,OAHO,CAAA,CAAE,WAAC,KAAe,gBAAA,CAAiB;SAI3C,CAHC,CAAC,MAAC,CAAM;;QAMZ,IAAI,gBAHC,GAAkB,CAAA,EAAG;YAIxB,KAAK,CAHC,eAAC,CAAe,wBAAC,GAA0B,gBAAA,CAAiB;YAIlE,OAHO,KAAA,CAAM;SAId;QACD,OAHO,IAAA,CAAK;KAIb;IACD,OAHO,IAAA,CAAK;CAIb;;ADlCD;;;;AAIA,AAAA,SAAA,gBAAA,CAHC,CAAA,EAGD;IACE,IAAI,CAHC,CAAC,KAAC,EAAM;QAIX,uBAHM,iBAAA,GAAoB,EAAA,CAAG,WAAC,CAAW;QAIzC,uBAHM,gBAAA,GAAmB,EAAA,CAAG,WAAC,CAAW;QAKxC,uBAHM,KAAA,GAAQ;YAIZ,gBAAgB,EAHE;gBAIhB,yBAAyB,EAHE,CAAA;gBAI3B,OAAO,EAHE,8CAAA;aAIV;SACF,CAHC;QAKF,IAAI,CAHC,CAAC,KAAC,CAAK,WAAC,KAAe,gBAAA,EAAkB;YAI5C,OAHO,IAAA,CAAK;SAIb;QAED,uBAHM,iBAAA,GAIJ,CAAC,CAHC,KAAC,CAAK,MAAC,CAAM,CAAC,WAAC,EAAY,IAAA,KAEnC;YAEQ,IAAI,IAHC,CAAI,WAAC,KAAe,gBAAA,EAAkB;gBAIzC,OAHO,KAAA,CAAM;aAId;YACD,WAAW,IAHI,IAAA,CAAK,MAAC,CAAM,CAAC,CAAC,KAGrC;;gBAEU,OAHO,CAAA,CAAE,WAAC,KAAe,iBAAA,CAAkB;aAI5C,CAHC,CAAC,MAAC,CAAM;SAIX,EAHE,CAAA,CAAE,CAAC;;QAMR,IAAI,iBAHC,GAAmB,CAAA,EAAG;YAIzB,KAAK,CAHC,gBAAC,CAAgB,yBAAC,GAA2B,iBAAA,CAAkB;YAIrE,OAHO,KAAA,CAAM;SAId;QACD,OAHO,IAAA,CAAK;KAIb;IACD,OAHO,IAAA,CAAK;CAIb;;ADvCD;;;;AAIA,AAAA,SAAA,QAAA,CAHC,YAAA,EAGD;IAEE,OAHO,CAAA,CAAI,KAGb;QAEI,IAAI,CAHC,CAAC,KAAC,EAAM;YAIX,uBAHM,SAAA,GAAY,CAAA,CAAE,KAAC,CAAK,MAAC,CAAM;YAKjC,IAAI,SAHC,GAAW,YAAA,EAAc;gBAI5B,OAHO;oBAIL,QAAQ,EAHE;wBAIR,SAAS,EAHE,SAAA;wBAIX,YAAY,EAHE,YAAA;wBAId,OAAO,EAHE,CAGrB,4CAAA,EAHqB,YAAgD,CAGrE,CAAA,CAHiF;qBAItE;iBACF,CAHC;aAIH;YACD,OAHO,IAAA,CAAK;SAIb;QACD,OAHO,IAAA,CAAK;KAIb,CAAA;CACF;;ADxBD;;;;;AAKA,AAAA,SAAA,qBAAA,CAJC,aAAA,EAAA,YAAA,EAID;IAEE,OAJO,CAAA,CAAI,KAIb;QAEI,IAAI,CAJC,CAAC,KAAC,EAAM;YAKX,uBAJM,gBAAA,GAAmB,EAAA,CAAG,WAAC,CAAW;YAKxC,IAAI,CAJC,CAAC,KAAC,CAAK,WAAC,KAAe,gBAAA,EAAkB;gBAK5C,OAJO,IAAA,CAAK;aAKb;YACD,uBAJM,4BAAA,GAA+B,CAAA,CAAE,KAAC,CAAK,MAAC,CAAM,CAAC,CAAC,KAI5D;gBACQ,IAAI,CAJC,CAAC,WAAC,KAAe,gBAAA,EAAkB;oBAKtC,OAJO,IAAA,CAAK;iBAKb;gBACD,OAJO,CAAA,CAAE,MAAC,IAAS,aAAA,CAAc;aAKlC,CAJC,CAAC,MAAC,CAAM;YAMV,IAAI,4BAJC,GAA8B,YAAA,EAAc;gBAK/C,OAJO;oBAKL,iBAAiB,EAJE;wBAKjB,UAAU,EAJE,4BAAA;wBAKZ,aAAa,EAJE,aAAA;wBAKf,OAAO,EAJE,CAIrB,6BAAA,EAJqB,aAAiC,CAItD,oBAAA,EAJmE,YAAuB,CAI1F,OAAA,CAJsG;qBAK3F;iBACF,CAJC;aAKH;YACD,OAJO,IAAA,CAAK;SAKb;QACD,OAJO,IAAA,CAAK;KAKb,CAAA;CACF;;ADlBD,MAAA,yBAAA,CAAA;;;;IAIA,OADG,OAAA,GACH;QACI,OADO;YAEL,SAAS,EADE;gBAET,cAAc;aACf;YACD,QAAQ,EADE,yBAAA;SAEX,CADC;KAEH;;AAAI,yBAAP,CAAA,UAAO,GAAoC;IAE3C,EADE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,CAAA;gBAEtB,OAAO,EADE,CAAA,YAAE,EAAa,mBAAA,CAAoB;gBAE5C,YAAY,EADE,CAAA,qBAAE,EAAsB,4BAAA,EAA8B,yBAAA,EAA2B,8BAAA,EAAgC,cAAA,CAAe;gBAE9I,OAAO,EADE,CAAA,qBAAE,EAAsB,4BAAA,EAA8B,yBAAA,EAA2B,8BAAA,CAA+B;aAE1H,EADC,EAAG;CAEJ,CADC;;;;AAED,yBAAD,CAAA,cAAC,GAAA,MAAA,EAIA,CAAC;;ADxCF;;GAEG;;;;"}